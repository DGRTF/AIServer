(this["webpackJsonpnumber-ml-paint"]=this["webpackJsonpnumber-ml-paint"]||[]).push([[0],{14:function(t,e,n){},15:function(t,e,n){},17:function(t,e,n){},18:function(t,e,n){"use strict";n.r(e);var a=n(0),i=n.n(a),s=n(3),o=n.n(s),c=(n(14),n(15),n(1)),r=n.n(c),u=n(4),l=n(5),h=n(6),v=n(8),m=n(7),d=(n(17),function(t){Object(v.a)(n,t);var e=Object(m.a)(n);function n(t){var a;return Object(l.a)(this,n),(a=e.call(this,t)).canvas=void 0,a.ctx=void 0,a.paint=void 0,a.state={numberResponse:null},a}return Object(h.a)(n,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("canvas",{className:"paint-board__canvas",width:"400",height:"400",onMouseDown:this.canvas_mousedown.bind(this),onMouseMove:this.canvas_mousemove.bind(this),onMouseOut:this.canvas_mouseout.bind(this),onMouseUp:this.canvas_mouseup.bind(this)}),i.a.createElement("button",{onClick:this.sendCanvas.bind(this)},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"),i.a.createElement("div",null,this.state.numberResponse?this.state.numberResponse:""))}},{key:"canvas_mousedown",value:function(t){this.canvas=t.target,this.paint=!0,this.ctx=this.canvas.getContext("2d"),this.ctx.beginPath();var e=this.canvas.getBoundingClientRect(),n=t.clientX-e.left-2,a=t.clientY-e.top-2;this.ctx.moveTo(n,a),this.ctx.lineWidth=25,this.ctx.strokeStyle="white"}},{key:"canvas_mousemove",value:function(t){if(this.paint){var e=this.canvas.getBoundingClientRect(),n=t.clientX-e.left-2,a=t.clientY-e.top-2;this.ctx.lineTo(n,a),this.ctx.stroke()}}},{key:"canvas_mouseup",value:function(){this.endDriving()}},{key:"canvas_mouseout",value:function(){this.ctx&&this.endDriving()}},{key:"endDriving",value:function(){this.paint=!1,this.ctx.closePath()}},{key:"sendCanvas",value:function(){var t=Object(u.a)(r.a.mark((function t(e){var n,a,i,s,o=this;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.canvas){t.next=18;break}return(n=e.target).disabled=!0,t.next=5,new Promise((function(t){return o.canvas.toBlob(t,"image/jpeg")}));case 5:return a=t.sent,(i=new FormData).append("file",a),{file:a},t.next=11,fetch("/AINumber/DefineNumber",{method:"POST",headers:{},body:i}).finally((function(){n.disabled=!1}));case 11:return s=t.sent,t.t0=this,t.next=15,s.json();case 15:t.t1=t.sent,t.t2={numberResponse:t.t1},t.t0.setState.call(t.t0,t.t2);case 18:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()}]),n}(a.Component));var p=function(){return i.a.createElement("div",{className:"App"},i.a.createElement(d,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(p,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))},9:function(t,e,n){t.exports=n(18)}},[[9,1,2]]]);
//# sourceMappingURL=main.50c06e76.chunk.js.map